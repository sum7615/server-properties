server:
  port: 8080

spring:
  redis:
    host: localhost
    port: 6379
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
      routes:
        - id: public-service
          uri: lb://public-service   # lb:// enables load balancing through Eureka
          predicates:
            - Path=/public/** 
          filters:
            - RewritePath=/public/(?<segment>.*), /${segment}
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/** 
          filters:
            - RewritePath=/user/(?<segment>.*), /${segment}
        - id: document-service
          uri: lb://document-service
          predicates:
            - Path=/doc/** 
          filters:
            - RewritePath=/doc/(?<segment>.*), /${segment}
        - id: test-service
          uri: lb://test-service
          predicates:
            - Path=/test/** 
          filters:
            - RewritePath=/test/(?<segment>.*), /${segment}

jwt:
  secret: "mY8xVt2c+9Rz2qvG5a0F7n6KbC4WjH8pLdN0QxBv1wM="  
api:
  excluded-paths:
    - /user/register
    - /user/login
    - /user/refresh-token
    - /user/address-type
    - /user/lookup/country
  excluded-path-prefixes:
    - /public/
    - /user/check-user
    - /user/lookup/city
    - /user/lookup/state
